language: perl
sudo: required
perl:
  - "5.26"
  - "5.24"
  - "5.22"
  - "5.20"
  - "5.18"
  - "5.16"
  - "5.14"
  - "5.12"
  - "5.10"
addons:
  mysql: "5.6"
env:
  - "HARNESS_OPTIONS=j9 TEST_ONLINE_mysql=mysql://travis:s3kr1t@localhost/myapp_test"
install:
  - "cpanm -n Test::Pod Test::Pod::Coverage"
  - cpanm -v Devel::CheckLib DBI DBD::mysql Mojo::mysql
  - cpanm --installdeps .
before_script:
  - mysql -e 'CREATE DATABASE IF NOT EXISTS myapp_test;'
  - mysql -e "grant all privileges on myapp_test.* to 'travis'@'localhost' identified by 's3kr1t';"
notifications:
  email: false
